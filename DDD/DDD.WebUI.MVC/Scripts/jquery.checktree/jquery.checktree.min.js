(function(n){n.fn.checkTree=function(t){t=n.extend({onExpand:null,onCollapse:null,onCheck:null,onUnCheck:null,onHalfCheck:null,onLabelHoverOver:null,onLabelHoverOut:null,labelAction:"expand",debug:!1},t);var i=this;return i.find("li").find("ul").hide().end().find(":checkbox").change(function(){var i=n(this).siblings("ul").find(":checkbox"),r=i.filter(":checked");if(i.length==r.length&&n(this).prop("checked")){if(n(this).attr("checked","checked").siblings(".checkbox").removeClass("half_checked").addClass("checked"),t.onCheck)t.onCheck(n(this).parent())}else if(r.length==0){if(n(this).prop("checked",!1).siblings(".checkbox").removeClass("checked").removeClass("half_checked"),t.onUnCheck)t.onUnCheck(n(this).parent())}else{if(t.onHalfCheck&&!n(this).siblings(".checkbox").hasClass("half_checked"))t.onHalfCheck(n(this).parent());n(this).attr("checked","checked").siblings(".checkbox").removeClass("checked").addClass("half_checked")}}).hide().end().find("label").click(function(){var i=t.labelAction;switch(t.labelAction){case"expand":n(this).siblings(".arrow").click();break;case"check":n(this).siblings(".checkbox").click()}}).hover(function(){if(n(this).addClass("hover"),t.onLabelHoverOver)t.onLabelHoverOver(n(this).parent())},function(){if(n(this).removeClass("hover"),t.onLabelHoverOut)t.onLabelHoverOut(n(this).parent())}).end().each(function(){var i=n('<div class="arrow"><\/div>'),r;n(this).is(":has(ul)")&&(i.addClass("collapsed"),i.click(function(){if(n(this).siblings("ul").slideToggle(0),n(this).hasClass("collapsed")){if(n(this).addClass("expanded").removeClass("collapsed"),t.onExpand)t.onExpand(n(this).parent())}else if(n(this).addClass("collapsed").removeClass("expanded"),t.onCollapse)t.onCollapse(n(this).parent())}));r=n('<div class="checkbox"><\/div>');r.click(function(){if(n(this).removeClass("half_checked").toggleClass("checked"),n(this).hasClass("checked")){if(t.onCheck)t.onCheck(n(this).parent());n(this).siblings(":checkbox").attr("checked","checked");n(this).siblings("ul").find(".checkbox").not(".checked").removeClass("half_checked").addClass("checked").each(function(){if(t.onCheck)t.onCheck(n(this).parent())}).siblings(":checkbox").attr("checked","checked")}else{if(t.onUnCheck)t.onUnCheck(n(this).parent());n(this).siblings(":checkbox").prop("checked",!1);n(this).siblings("ul").find(".checkbox").filter(".checked").removeClass("half_checked").removeClass("checked").each(function(){if(t.onUnCheck)t.onUnCheck(n(this).parent())}).siblings(":checkbox").prop("checked",!1)}n(this).parents("ul").siblings(":checkbox").change()});n(this).prepend(r).prepend(i)}).end().find(":checkbox").change(),i}})(jQuery);
//# sourceMappingURL=jquery.checktree.min.js.map
