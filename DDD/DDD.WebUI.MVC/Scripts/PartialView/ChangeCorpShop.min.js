function ShopValid(){var n=$("input[name=AllShopsFlag]:checked"),i=$("#CanUseShops"),r=$("#CanNotUseShops"),u=$("#RangeType").val(),t="";switch(u){case"1":n.attr("id")=="r2"?t="请选择可使用的门店!":n.attr("id")=="r3"&&(t="请选择不可使用的门店!");break;case"2":n.attr("id")=="r2"?t="请选择可参与的门店!":n.attr("id")=="r3"&&(t="请选择不可参与的门店!")}return n.val()=="True"?!0:n.attr("id")=="r2"&&(i.val()==""||i.val().length<=0)||n.attr("id")=="r3"&&(r.val()==""||r.val().length<=0)?(showMessage2("<span class='box-error'>错误<\/span>",t,!0,!1,!1,240),!1):($("#selCanUseShops").removeClass("input-validation-error"),$("#valid-CanUseShops").html("").removeClass("field-validation-error").hide(),!0)}$(function(){function a(){$("#AllShops >li,#AllShops1 >li").unbind("dblclick");$("#AllShops >li").bind("dblclick",function(){v();$(this).attr("path")=="right"?e($(this),i,r,n,t,!0):h($(this),u,r,n,t,f,!0)});$("#AllShops1 >li").bind("dblclick",function(){v();$(this).attr("path")=="right"?e($(this),r,i,t,n,!1):h($(this),f,i,t,n,u,!1)});$("#selCanNotUseShops >li,#selCanUseShops >li,#AllShops >li,#AllShops1 >li").unbind("click");$("#selCanNotUseShops >li,#selCanUseShops >li,#AllShops >li,#AllShops1 >li").bind("click",function(){$(this).toggleClass("ui-selected")})}function h(n,t,u,f,e,h,c){u.find("li[csid="+n.attr("csid")+"]").fadeOut(o,function(){$(this).remove()});h.find("li").fadeOut(o,function(){});h.find("li").length>0&&(h.clone(!1).find("li").attr("path","left").appendTo(r).fadeIn(),h.find("li").attr("path","left").appendTo(i).fadeIn(),a());n.attr("csid")==""&&n.remove();n.attr("path","right").fadeOut(o,function(){n.removeClass("ui-selected").appendTo(t).fadeIn(o,function(){s(t,f,e,c)})})}function e(n,t,i,r,u,f){n.attr("path","left");var e=n.parent(),h=n.clone(!1);n.fadeOut(o,function(){h.removeClass("ui-selected").appendTo(i);n.removeClass("ui-selected").appendTo(t).fadeIn(o,function(){s(e,r,u,f);a()})})}function c(n,t,i,r,u,f,e){n.find("li").each(function(){$(this).hasClass("ui-selected")&&h($(this),t,i,r,u,f,e)})}function l(n,t,i,r,u,f){n.find("li").each(function(){$(this).hasClass("ui-selected")&&e($(this),t,i,r,u,f)})}function p(){var s=n.val(),o,e;if(s.length>0)for(o=s.split(","),e=0;e<o.length;e++)i.find("li").each(function(){$(this).attr("csid")==o[e]&&h($(this),u,r,n,t,f,!0)});else for(s=t.val(),o=s.split(","),e=0;e<o.length;e++)r.find("li").each(function(){$(this).attr("csid")==o[e]&&h($(this),f,i,t,n,u,!1)})}function s(n,t,i,r){var u="",f="";n.find("li").each(function(){u+=$(this).attr("csid")+",";f+=$(this).text()+","});u.length>0&&(u=u.substring(0,u.length-1));r?(f.length>0&&(f=f.substring(0,f.length-1)),$("#hidCanUseShop").val(f)):$("#hidCanUseShop").val("");t.val(u);i.val("")}var u=$("#selCanUseShops"),f=$("#selCanNotUseShops"),i=$("#AllShops"),r=$("#AllShops1"),n=$("#CanUseShops"),t=$("#CanNotUseShops"),y=$("#txtIsAllShop").val(),o,v;y=="True"?($("#CanUseShopFlag").hide(),$("#CannotUseShopFlag").hide()):n.val()!=""?($("#CanUseShopFlag").show(),$("#CannotUseShopFlag").hide()):($("#CanUseShopFlag").hide(),$("#CannotUseShopFlag").show());$("input[name=AllShopsFlag]").change(function(){$(this).val()=="True"?($("#CanUseShopFlag").hide(),$("#CannotUseShopFlag").hide(),$("#hidCanUseShop").val(""),u.find("li").each(function(){e($(this),i,r,n,t,!0)}),f.find("li").each(function(){e($(this),r,i,t,n,!1)}),s(u,n,t,!1)):$(this).attr("id")=="r2"?($("#CanUseShopFlag").show(),$("#CannotUseShopFlag").hide(),f.find("li").each(function(){e($(this),r,i,t,n,!0)}),s(u,n,t,!0)):$(this).attr("id")=="r3"&&($("#CanUseShopFlag").hide(),$("#CannotUseShopFlag").show(),$("#hidCanUseShop").val(""),u.find("li").each(function(){e($(this),i,r,n,t,!1)}),s(u,n,t,!1))});$("input[name=AllShopsFlag]:checked").val()=="True"?($("#CanUseShopFlag").hide(),$("#CannotUseShopFlag").hide(),u.find("li").each(function(){e($(this),i,r,n,t,!0)}),f.find("li").each(function(){e($(this),r,i,t,n,!1)}),s(u,n,t,!1)):n.val()!=""?($("#CanUseShopFlag").show(),$("#CannotUseShopFlag").hide(),f.find("li").each(function(){e($(this),r,i,t,n,!0)})):($("#CanUseShopFlag").hide(),$("#CannotUseShopFlag").show(),u.find("li").each(function(){e($(this),i,r,n,t,!1)}));o=200;$("#fill-right-one").click(function(){c(i,u,r,n,t,f,!0)});$("#fill-left-one").click(function(){l(u,i,r,n,t,!0)});$("#fill-right").click(function(){i.find("li").addClass("ui-selected");c(i,u,r,n,t,f,!0)});$("#fill-left").click(function(){u.find("li").addClass("ui-selected");l(u,i,r,n,t,!0)});$("#fill-right-one-1").click(function(){c(r,f,i,t,n,u,!1)});$("#fill-left-one-1").click(function(){l(f,r,i,t,n,!1)});$("#fill-right-1").click(function(){r.find("li").addClass("ui-selected");c(r,f,i,t,n,u,!1)});$("#fill-left-1").click(function(){f.find("li").addClass("ui-selected");l(f,r,i,t,n,!1)});v=function(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var n=window.getSelection();n.removeAllRanges()}};a();p()});
//# sourceMappingURL=ChangeCorpShop.min.js.map
